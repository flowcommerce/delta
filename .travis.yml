language: scala
scala:
  - 2.12.10
jdk:
  - openjdk8
cache:
  directories:
    - $HOME/.ivy2/cache
    - $HOME/.sbt
    - $HOME/.cache/coursier
services:
  - docker
before_script:
  - docker login -u="$DOCKER_USERNAME" -p="$DOCKER_PASSWORD"
  - docker run -d -p 127.0.0.1:6099:5432 flowcommerce/delta-postgresql:latest
script:
  - sbt ++$TRAVIS_SCALA_VERSION clean flowLint test doc
branches:
  only:
    - master
before_cache:
  - rm -fv $HOME/.ivy2/.sbt.ivy.lock
  - find $HOME/.ivy2/cache -name "ivydata-*.properties" -print -delete
  - find $HOME/.sbt        -name "*.lock"               -print -delete
env:
  global:
  - secure: v9I/J6phrnaviDuYFKe2FWnl7TOC5g+cjOVU8Z9RZtO8WUF5H57pS5SudiSNz1G3nTUPmkyD63TWiMg2p9Taog9lTCDrjaT07Ypfrb6eS6hsiP6PagkiPuMdbhkW6wlQJVu6+5NJkt95/koifsqKBsAVeXYB7ro6GcAvWWi3Xe/SS1texPcBphVtkLo/Vt1HTYHDukNQi16btlBMI/RQkrt7Tqcbbd9DKzrgEaksi3yNeNEJ7eWMu522SpL+z7VfMao7UVeRVkHNLYpAxE56xBPshcwzt4w5V1llXBH1nZTev45R6v196H1JOs4cN9V4Cc5UUgasTGRkzahstvCbwJK7dRXE94UY9/kVmPJOD4Aau4sAscCRDXewUj63xXTRf9gvuMFOuyTyMEUMyhZIUZHXzkfg9VLL4nA4JF2rRXnJyWuPvgKOVfzmFSmymjiSDcQcTNGmOFhzBBg066+qaIA7mWdOmS53FH0GNjGXEuuzph6llI0VfkP7H+6Ske9iRKsr/Vfa6XQRjoLvO2DwBAVhbtLJLljx44DTMUyWTPJtV2r/7h9cBByWCDTCFa2YjYh6EB/chqD2z6C2B8nrcjf/SCTDbXMdkADWxzeVufBSUQhgel2g/AtmQMvshur5A+UXDuNxHnyDyyq0Kl/YTdtGJF+DEkvIfy2TDsIKtU8=
  - secure: VR+wEElB+V/UgVHnLQf7p6h5cJw8qlGeBn3OK/T94BlcFFc01vEjp/fzeqUsG7D43C9iK9m0oweMIKC02JpoR39o/tepZzgUvcYV1tKVKpyLyoom7dhlTxmYIkx9gE7jLMAmR0xaDE6joixNvX4B8908SB63R0+RkkvU7FwYop/Z/K//WHPgE7KI/g1OmIQzdp5bAXGLMqjquHvKEOWOoyd45yb/jihiYGmo8k9fAl50rblLSAq6ynkPpEk+58gvbG++A88JB+WHbU8TiZOV6/HRNDd6O7+O58RWVieiP+z6Gb5IaL5V6oT/8aQy3EqF3pNiIGDvKPE+9tU5IAdKdRWUm8Tc+N8ye2MjSgXUqnY9U0LmXIWaGMm6xA5WreTgeCaFL/Y2vbqrIewKPJbxbIFJgm16cFMZ76v68k/jkvFcz/WRVdRsnyMlhdSv77sjRtzVZxfFS1bmkhY9X/gonDY2RdWCVem+1QvVVF1grKLO73KXWT9Y64YmotgpMbvLNwmxflcBZwOJn5vK37qxpji0YZtruZhYEmokYZbgvgBzZ73Y7P7J1q7fpnRwHpHvDBsyqV9FWAJdaVthvkyFNmo5l+i9KSyMUFgLTzb+J43LJW+Tr09wwo11922NOT8ll9DFt6l+GcPvj/XeKJBTC0PyNDrNbKsCC4ePnOJHhL0=
